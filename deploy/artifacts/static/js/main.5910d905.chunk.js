(this["webpackJsonpclient-demo"]=this["webpackJsonpclient-demo"]||[]).push([[0],{400:function(e,t,n){},405:function(e,t){},407:function(e,t){},417:function(e,t){},419:function(e,t){},446:function(e,t){},447:function(e,t){},452:function(e,t){},454:function(e,t){},461:function(e,t){},480:function(e,t){},549:function(e,t,n){var a={"./amplify-amazon-button_5.entry.js":[558,16],"./amplify-auth-fields_9.entry.js":[559,17],"./amplify-authenticator.entry.js":[560,5],"./amplify-button_3.entry.js":[561,18],"./amplify-chatbot.entry.js":[562,4],"./amplify-checkbox.entry.js":[563,19],"./amplify-confirm-sign-in_7.entry.js":[564,6],"./amplify-container.entry.js":[565,20],"./amplify-federated-buttons_2.entry.js":[566,21],"./amplify-federated-sign-in.entry.js":[567,22],"./amplify-form-field_4.entry.js":[568,23],"./amplify-greetings.entry.js":[569,24],"./amplify-icon-button.entry.js":[570,25],"./amplify-icon.entry.js":[571,7],"./amplify-link.entry.js":[572,26],"./amplify-nav_2.entry.js":[573,27],"./amplify-photo-picker.entry.js":[574,28],"./amplify-picker.entry.js":[575,29],"./amplify-radio-button_2.entry.js":[576,8],"./amplify-s3-album.entry.js":[577,9],"./amplify-s3-image-picker.entry.js":[578,10],"./amplify-s3-image.entry.js":[579,11],"./amplify-s3-text-picker.entry.js":[580,12],"./amplify-s3-text.entry.js":[581,13],"./amplify-select-mfa-type.entry.js":[582,30],"./amplify-sign-in-button.entry.js":[583,14],"./amplify-toast.entry.js":[584,31],"./amplify-tooltip.entry.js":[585,32]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=549,e.exports=r},550:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),i=n.n(r),c=n(28),o=n.n(c),s=(n(400),n(40)),l=n(668),u=n(42),d=n(241),j=n(87),p=n(38),b=n(361),f=n(343),h=n(665),O=n(235),m=n(50),v=n(362),g=n(240),x=n(368),y="CLEAR",D="DISMISS",w="SEND",S=function(e,t){switch(t.type){case w:var n=t.payload,a=n.id,r=n.setTimeout;return a||(t.payload.id=Object(x.a)()),t.payload.setTimeout="undefined"===typeof r,[].concat(Object(g.a)(e),[t.payload]);case D:if(!t.payload)throw new Error("Missing alert id");return e.filter((function(e){return e.id!==t.payload}));case y:return[];default:throw new Error("Unhandled action type")}},k=i.a.createContext(void 0),I=i.a.createContext(void 0),T=function(e){var t=e.children,n=function(){var e=i.a.useReducer(S,[]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=i.a.useCallback((function(e){var t=e.timeout||4e3;a({type:w,payload:e}),e.setTimeout&&setTimeout((function(){return a({type:D,payload:e.id})}),t)}),[]),c=i.a.useCallback((function(e){return a({type:D,payload:e})}),[]);return{clear:i.a.useCallback((function(){return a({type:y})}),[]),dismiss:c,send:r,alerts:Object(g.a)(n)}}();return Object(a.jsx)(k.Provider,{value:n.alerts,children:Object(a.jsx)(I.Provider,{value:n,children:t})})},E=function(){var e=i.a.useContext(I);if(void 0===e)throw new Error("useAlertDispatch must be used within a AlertProvider");return e},C=n(30),N=n(643),L=n(639),_=n(673),P=n(350),M=n.n(P),A=n(669),F=n(644),z=Object(L.a)((function(e){return Object(_.a)({root:{alignItems:"center",display:"flex",flexDirection:"column",margin:"0px 100px 0 100px",position:"absolute",top:65,width:"calc(100vw - 200px)",zIndex:100,"& > * + *":{marginTop:e.spacing(1)}},actionItem:{width:600}})})),R=function(){var e=function(){var e=i.a.useContext(k);if(void 0===e)throw new Error("useAlertState must be used within a AlertProvider");return e}(),t=z(),n=function(e){var n=E();return Object(a.jsx)(A.a,Object(C.a)({className:t.actionItem,elevation:6,variant:"filled",action:Object(a.jsx)(N.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return n.dismiss(e.id)},children:Object(a.jsx)(M.a,{fontSize:"inherit"})})},e))};return e.length?Object(a.jsx)("div",{className:t.root,children:e.map((function(e){return Object(a.jsxs)(n,{id:e.id,severity:e.severity,children:[e.title&&Object(a.jsx)(F.a,{children:e.title}),e.message]},e.id)}))}):null},U=n(110),B=n(371),$=n(552),q=n(645),Q=n(647),W=n(646),H=function(e){var t=e.label,n=e.path;return Object(a.jsx)(q.a,{item:!0,children:Object(a.jsx)(W.a,{component:j.b,to:n,children:t})})},G=Object(L.a)((function(e){return Object(_.a)({root:{display:"flex"},flex:{flex:1},mainContainer:{display:"flex",flex:1,flexDirection:"column",margin:"auto"},titleLink:{textDecoration:"none",color:"#fff"},paper:{minHeight:600,margin:e.spacing(2),padding:e.spacing(2)},popperClose:{pointerEvents:"none",zIndex:-1}})})),K=function(e){var t=e.title;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($.a,{gutterBottom:!0,variant:"h5",children:t}),Object(a.jsx)(Q.a,{light:!0}),Object(a.jsx)("br",{})]})},Y=n(648),J=Object(L.a)((function(e){return Object(_.a)({container:{position:"relative"},progress:{margin:e.spacing(2)}})})),V=function(){var e=J();return Object(a.jsx)("div",{className:e.container,"data-testid":"loader",children:Object(a.jsx)(Y.a,{className:e.progress})})},X=Object(L.a)((function(e){return Object(_.a)({root:{alignItems:"center",display:"flex",flexDirection:"column",margin:"0 auto 0",paddingTop:e.spacing(1),width:"100%",zIndex:100,"& > * + *":{marginTop:e.spacing(1)}},actionItem:{width:600},errorTxt:{fontSize:"150%",fontWeight:600}})})),Z=function(e){var t=e.error,n=X();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsxs)(A.a,{className:n.actionItem,severity:"error",variant:"filled",children:[Object(a.jsx)(F.a,{className:n.errorTxt,children:"Something went wrong:"}),t.message]})})},ee=function(e){var t,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0===e)return null;n&&(t={style:"currency",currency:"USD"});var a=new Intl.NumberFormat("en-US",t);return a.format(e)};function te(){var e="production";window.location.hostname;return window.location.hostname.indexOf("stage")>-1?"stage":"localhost"===window.location.hostname?e:"production"}function ne(){var e="Gales Dips",t="";switch(te()){case"development":t="".concat(e," \xb7 Dev");break;case"stage":t="".concat(e," \xb7 Staging");break;case"production":t="".concat(e," \xb7 Live");break;default:t=e}return t}var ae=n(90),re=n.n(ae),ie=n(124),ce=n(364),oe="http://127.0.0.1:4000/",se={development:{BASE_URL:oe},production:{BASE_URL:"https://api-prod.gdps.pfapi.io/graphql"},stage:{BASE_URL:"https://api-stage.gdps.pfapi.io/graphql"},test:{BASE_URL:oe}}[te()],le="userToken",ue="MMM d, yyy",de=se;function je(e){return new Promise((function(t,n){e.getSession((function(e,a){e&&n(e),t(a)}))}))}function pe(e,t){return new Promise((function(n,a){var r=t.getRefreshToken();e.refreshSession(r,(function(e,t){e&&a(e),n(t)}))}))}function be(){var e=window.localStorage.getItem(le);return!!e&&JSON.parse(atob(e.split(".")[1]))}function fe(){return he.apply(this,arguments)}function he(){return(he=Object(ie.a)(re.a.mark((function e(){var t,n,a,r,i,c,o,s,l,u;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage,n=Math.floor((new Date).valueOf()/1e3),300,a=n+300,(r=be())&&r.exp,!(r&&a<r.exp)){e.next=8;break}return e.abrupt("return",t.getItem(le));case 8:return i={UserPoolId:"ca-central-1_lolwfYIAr",ClientId:"5n63nd473pv7ne2qskv30gkcbh"},c=new ce.a(i),o=c.getCurrentUser(),e.next=13,je(o);case 13:if(!(s=e.sent)){e.next=21;break}return e.next=17,pe(o,s);case 17:return l=e.sent,u=l.accessToken.jwtToken,console.log("userToken refreshed"),e.abrupt("return",u);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){var e=Object(U.a)(["\n  query Stations {\n    stations {\n      id\n      name\n    }\n  }\n"]);return Oe=function(){return e},e}var me=[{label:"Dip Entries",path:"/dips"},{label:"Propane Entries",path:"/propane"},{label:"Reports",path:"/reports"},{label:"Import Sales Data",path:"/import-data"}],ve=Object(u.gql)(Oe());function ge(){var e=G(),t=Object(u.useQuery)(ve),n=t.loading,r=t.error;if(r)return Object(a.jsx)(Z,{error:r});var i="production"!==te()&&"Warning: You are currently NOT in a production environment.";return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(B.a,{className:e.paper,children:[Object(a.jsx)(K,{title:"Select Activity"}),n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($.a,{children:"Please stand by as we load the application..."}),Object(a.jsx)(V,{})]}):Object(a.jsxs)(q.a,{container:!0,spacing:4,children:[me.map((function(e){return Object(a.jsx)(H,{label:e.label,path:e.path},e.path)})),Object(a.jsx)("div",{children:r}),Object(a.jsx)(Q.a,{})]}),Object(a.jsx)("div",{style:{margin:20,fontWeight:600,fontSize:"120%"},children:i})]})})}var xe=n(659),ye=n(661),De=n(667),we=n(652),Se=n(151),ke=n(366),Ie=n(671),Te=n(12),Ee=Object(Te.a)((function(e){return Object(_.a)({root:{minHeight:600,margin:e.spacing(2),padding:e.spacing(2)}})}))(B.a),Ce=Object(L.a)((function(e){return Object(_.a)({container:{margin:e.spacing(1),marginTop:e.spacing(2)}})})),Ne=function(e){var t=e.date,n=Ce(),r=Object(ke.a)(new Date(t),ue);return Object(a.jsxs)("div",{className:n.container,children:[Object(a.jsxs)($.a,{variant:"body1",children:["Date of last Fuel Sale Import: ","".concat(r)]}),Object(a.jsx)("br",{}),Object(a.jsx)(W.a,{variant:"outlined",children:"Import Dips Data"})]})},Le=n(677),_e=n(670),Pe=n(679);function Me(){var e=Object(U.a)(["\n  query Stations {\n    stations {\n      id\n      name\n    }\n  }\n"]);return Me=function(){return e},e}var Ae=Object(u.gql)(Me()),Fe=Object(L.a)((function(e){return Object(_.a)({selectEmpty:{marginTop:e.spacing(2)}})})),ze=function(e){var t=e.stationHandler,n=Fe(),r=Object(p.h)().stationID,c=Object(u.useQuery)(Ae),o=c.loading,l=c.error,d=c.data,j=i.a.useState(""),b=Object(s.a)(j,2),f=b[0],h=b[1];return i.a.useEffect((function(){r&&h(r)}),[r]),o?Object(a.jsx)("p",{children:"Loading..."}):l?Object(a.jsx)("p",{children:"Error :("}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Le.a,{id:"station-select-label",children:"Station"}),Object(a.jsx)(_e.a,{labelId:"station-select-label",id:"station-select",className:n.selectEmpty,value:f,onChange:function(e){var n=e.target.value;h(n),t(n)},children:d.stations.map((function(e){return Object(a.jsx)(Pe.a,{value:e.id,children:e.name},e.id)}))})]})},Re=n(365),Ue=n(204);function Be(){var e=Object(U.a)(["\n  query StationInfo($stationID: String!) {\n    stationTanks(stationID: $stationID) {\n      id\n      fuelType\n      tankID\n      tank {\n        levels\n        size\n      }\n    }\n    fuelSaleLatest(stationID: $stationID) {\n      date\n    }\n  }\n"]);return Be=function(){return e},e}function $e(){var e=Object(U.a)(["\n  query Dips($date: Int!, $dateFrom: Int!, $dateTo: Int!, $stationID: String!) {\n    curDips: dips(date: $date, stationID: $stationID) {\n      date\n      fuelType\n      level\n      litres\n      stationTankID\n      fuelDelivery {\n        litres\n      }\n    }\n    prevDips: dips(date: $dateFrom, stationID: $stationID) {\n      date\n      fuelType\n      level\n      litres\n      stationTankID\n    }\n    fuelPrice(date: $date, stationID: $stationID) {\n      date\n      price\n      stationID\n    }\n    dipOverShortRange(dateFrom: $dateFrom, dateTo: $dateTo, stationID: $stationID) {\n      date\n      overShort\n      stationID\n    }\n  }\n"]);return $e=function(){return e},e}var qe,Qe=Object(u.gql)($e()),We=Object(u.gql)(Be());!function(e){e.NL="NL",e.SNL="SNL",e.DSL="DSL",e.CDSL="CDSL"}(qe||(qe={}));var He={delivery:null,dips:null,level:null,litres:null,prevDips:null,prevLevel:null,tankID:null},Ge="SET_CURRENT_QKEY",Ke="SET_DATE",Ye="SET_DIPS_DATA",Je="SET_ERROR",Ve="SET_FUELSALE_DATE",Xe="SET_LOADING",Ze="SET_STATIONID",et="SET_HAVE_CURRENT_DIPS",tt=function(e,t){switch(t.type){case Ke:return Object(C.a)(Object(C.a)({},e),{},{date:t.payload});case Je:return Object(C.a)(Object(C.a)({},e),{},{error:t.payload});case Ze:return Object(C.a)(Object(C.a)({},e),{},{stationID:t.payload});case Xe:return Object(C.a)(Object(C.a)({},e),{},{loading:t.payload});case Ve:return Object(C.a)(Object(C.a)({},e),{},{fuelSaleDate:t.payload});case Ye:return Object(C.a)(Object(C.a)({},e),{},{dipTankData:t.payload});case et:return Object(C.a)(Object(C.a)({},e),{},{haveCurrentDips:t.payload});case Ge:return Object(C.a)(Object(C.a)({},e),{},{currentQKey:t.payload});default:throw new Error("Unhandled action type")}},nt={currentQKey:"",date:new Date,error:"",haveCurrentDips:!1,loading:!1,stationID:""},at=function(){var e=i.a.useReducer(tt,nt),t=Object(s.a)(e,2),n=t[0],a=t[1],r=n.currentQKey,c=n.date,o=n.fuelSaleDate,l=n.haveCurrentDips,d=n.stationID,j=Object(u.useLazyQuery)(We),p=Object(s.a)(j,2),b=p[0],f=p[1],h=f.error,O=f.loading,m=f.data,v=Object(u.useLazyQuery)(Qe),g=Object(s.a)(v,2),x=g[0],y=g[1],D=y.error,w=y.loading,S=y.data,k=i.a.useCallback((function(e){return a({type:Ke,payload:e})}),[]),I=i.a.useCallback((function(e){a({type:Ze,payload:e}),b({variables:{stationID:e}})}),[b]);return i.a.useEffect((function(){a({type:Xe,payload:O})}),[O]),i.a.useEffect((function(){a({type:Xe,payload:w})}),[w]),i.a.useEffect((function(){var e=null===m||void 0===m?void 0:m.fuelSaleLatest.date;if(e){var t=Object(Re.a)(e.toString(),"yyyyMMdd",new Date);a({type:Ve,payload:t})}d&&b({variables:{stationID:d}})}),[d,m,b]),i.a.useEffect((function(){c&&o&&a({type:et,payload:!Object(Ue.a)(c,o)})}),[c,o]),i.a.useEffect((function(){if(D||h){a({type:Je,payload:"An error has occurred with the dips data. Please report this to the administrator"})}}),[D,h]),i.a.useEffect((function(){var e=c,t=Object(ke.a)(new Date(e),"yyyyMMdd"),n=Number(t),i="".concat(t,"/").concat(d);l&&i!==r&&(console.log("fetch dips"),a({type:Ge,payload:"".concat(t,"/").concat(d)}),x({variables:{date:n,dateFrom:Number(Object(ke.a)(Object(we.a)(e,1),"yyyyMMdd")),dateTo:n,stationID:d}}))}),[r,c,d,l,x]),i.a.useEffect((function(){return function(){console.log("ok, leaving Dips clean up")}}),[]),i.a.useEffect((function(){if(S){var e=Number(Object(ke.a)(c,"yyyyMMdd")),t=S.dipOverShortRange.find((function(t){return t.date===e}));if(S&&(null===m||void 0===m?void 0:m.stationTanks)&&t){var n={dipTanks:function(e,t){for(var n=e.curDips,a=e.prevDips,r=new Map,i=0,c=Object.values(qe);i<c.length;i++)for(var o=c[i],s=function(e){var i=t[e];if(i.fuelType===o){var c=Object.assign(Object(C.a)({},He));if(n){var s=n.find((function(e){return i.id===e.stationTankID}));s&&(c.dips=s,c.tankID="".concat(i.tank.size,"(").concat(i.tankID,") ").concat(s.fuelType),c.level=s.level,c.litres=s.litres,s.fuelDelivery&&(c.delivery=s.fuelDelivery.litres))}if(a){var l=a.find((function(e){return i.id===e.stationTankID}));l&&(c.prevDips=l),c.prevLevel=c.prevDips&&c.prevDips.level}r.set(i.id,c)}},l=0;l<t.length;l++)s(l);return r}(S,m.stationTanks),overshort:{overshort:t,fuelPrice:S.fuelPrice}};a({type:Ye,payload:n})}}}),[c,S,m]),Object(C.a)({setDate:k,setStationID:I},n)},rt=n(653),it=n(654),ct=n(655),ot=n(656),st=n(657),lt=n(658),ut=n(676),dt=n(184),jt=n(355),pt=n.n(jt),bt=Object(L.a)((function(e){return Object(_.a)({container:{margin:e.spacing(1),marginTop:e.spacing(2)},fuelPriceRow:{margin:e.spacing(1),marginTop:e.spacing(2)},negative:{color:e.palette.primary.main}})})),ft=function(e){var t,n,r=e.data,i=bt(),c=Object.values(qe),o=r.overshort.overShort,s=[];if(o)for(var l=0;l<c.length;l++)o[c[l]]&&s.push(o[c[l]]);return r.fuelPrice&&(t=ee(r.fuelPrice.price,2),n=Object(ke.a)(Object(Re.a)(r.fuelPrice.date.toString(),"yyyyMMdd",new Date),"E, MMM Do yyyy")),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($.a,{variant:"h6",children:"Overshort"}),Object(a.jsx)(rt.a,{component:B.a,children:Object(a.jsxs)(it.a,{"aria-label":"overshort table",size:"small",children:[Object(a.jsx)(ct.a,{children:Object(a.jsxs)(ot.a,{children:[Object(a.jsx)(st.a,{children:"Fuel Type"}),Object(a.jsx)(st.a,{align:"right",children:"Dip Litres"}),Object(a.jsx)(st.a,{align:"right",children:"Litres Sold"}),Object(a.jsx)(st.a,{align:"right",children:"Overshort"})]})}),Object(a.jsx)(lt.a,{children:s.map((function(e){return Object(a.jsxs)(ot.a,{children:[Object(a.jsx)(st.a,{children:e.fuelType}),Object(a.jsx)(st.a,{align:"right",children:ee(e.tankLitres,3,!0)}),Object(a.jsx)(st.a,{align:"right",children:ee(e.litresSold,3,!0)}),Object(a.jsx)(st.a,{align:"right",className:pt()(Object(dt.a)({},i.negative,e.overShort<0)),children:ee(e.overShort,3,!0)})]},e.fuelType)}))})]})}),Object(a.jsxs)("div",{className:i.fuelPriceRow,children:["Fuel Price: ",t," (",n,")"]})]})},ht=Object(L.a)((function(e){return Object(_.a)({container:{margin:e.spacing(1),marginTop:e.spacing(2),maxWidth:1200},input:{width:80},table:{}})})),Ot=function(e){var t=e.data,n=ht(),r=t.dipTanks,i=t.overshort,c=Array.from(r.keys());return Object(a.jsx)("div",{className:n.container,children:Object(a.jsxs)(q.a,{container:!0,spacing:3,children:[Object(a.jsxs)(q.a,{item:!0,xs:6,children:[Object(a.jsx)($.a,{variant:"h6",children:"Dips"}),Object(a.jsx)("form",{autoComplete:"off",children:Object(a.jsx)(rt.a,{component:B.a,children:Object(a.jsxs)(it.a,{className:n.table,"aria-label":"dips table",size:"small",children:[Object(a.jsx)(ct.a,{children:Object(a.jsxs)(ot.a,{children:[Object(a.jsx)(st.a,{children:"Tank"}),Object(a.jsx)(st.a,{children:"Level"}),Object(a.jsx)(st.a,{children:"Litres"}),Object(a.jsx)(st.a,{children:"Delivery"})]})}),Object(a.jsx)(lt.a,{children:c.map((function(e,t){var i,c,o,s;return Object(a.jsxs)(ot.a,{children:[Object(a.jsx)(st.a,{children:null===(i=r.get(e))||void 0===i?void 0:i.tankID}),Object(a.jsx)(st.a,{children:Object(a.jsx)(ut.a,{autoFocus:0===t,className:n.input,id:"".concat(e,"_level"),margin:"dense",type:"number",value:(null===(c=r.get(e))||void 0===c?void 0:c.level)||0,variant:"outlined"})}),Object(a.jsx)(st.a,{children:ee(null===(o=r.get(e))||void 0===o?void 0:o.litres,0,!0)}),Object(a.jsx)(st.a,{children:Object(a.jsx)(ut.a,{className:n.input,id:"".concat(e,"_delivery"),margin:"dense",type:"number",value:(null===(s=r.get(e))||void 0===s?void 0:s.delivery)||0,variant:"outlined"})})]},e)}))})]})})})]}),Object(a.jsx)(q.a,{item:!0,xs:5,children:Object(a.jsx)(ft,{data:i})})]})})},mt=Object(L.a)((function(e){return Object(_.a)({navButton:{},navIcon:{},navControl:{flexDirection:"row",marginTop:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}})}));function vt(){var e=mt(),t=Object(p.f)(),n=E(),r=i.a.useState(!0),c=Object(s.a)(r,2),o=c[0],l=c[1],u=Object(p.h)(),d=u.date,j=u.stationID,b=at(),f=b.date,h=b.dipTankData,O=b.error,m=b.haveCurrentDips,v=b.loading,g=b.fuelSaleDate,x=b.stationID,y=b.setDate,D=b.setStationID,w=function(e){var t=f;"p"===e?y(Object(we.a)(t,1)):"n"===e&&y(Object(Se.a)(t,1))};i.a.useEffect((function(){d&&j&&(y(Object(Ie.a)(new Date(d),"Europe/London")),D(j))}),[d,j,y,D]);var S=f;return i.a.useEffect((function(){if(function(){var e=Number(Object(ke.a)(S,"yyyyMMdd")),t=Number(Object(ke.a)(new Date,"yyyyMMdd"));l(e>=t)}(),x){var e=Object(ke.a)(S,"yyyy-MM-dd"),n="/dips/".concat(e,"/").concat(x);t.push(n)}}),[S,t,x]),i.a.useEffect((function(){O&&n.send({message:O,severity:"error",setTimeout:!1,title:"Data Error"})}),[n,O]),Object(a.jsxs)(Ee,{children:[Object(a.jsx)(K,{title:"Dip Entries"}),Object(a.jsxs)(q.a,{container:!0,spacing:3,style:{maxWidth:550},children:[Object(a.jsx)(q.a,{item:!0,xs:4,children:Object(a.jsx)(xe.a,{className:e.formControl,children:Object(a.jsx)(ze,{stationHandler:D})})}),Object(a.jsx)(q.a,{item:!0,xs:4,children:Object(a.jsx)(xe.a,{className:e.formControl,style:{width:160},children:Object(a.jsx)(De.a,{autoOk:!0,disableFuture:!0,format:ue,label:"Date",onChange:y,value:f})})}),Object(a.jsx)(q.a,{item:!0,xs:4,children:Object(a.jsxs)(xe.a,{className:e.navControl,children:[Object(a.jsx)(N.a,{className:e.navButton,onClick:function(){return w("p")},children:Object(a.jsx)(ye.a,{className:e.navIcon,fontSize:"large",children:"arrow_back_ios"})}),Object(a.jsx)(N.a,{className:e.navButton,disabled:o,onClick:function(){return w("n")},children:Object(a.jsx)(ye.a,{className:e.navIcon,fontSize:"large",children:"arrow_forward_ios"})})]})})]}),v&&Object(a.jsx)(V,{}),!m&&!v&&g&&Object(a.jsx)(Ne,{date:g}),m&&!v&&h&&Object(a.jsx)(Ot,{data:h})]})}var gt=n(148),xt=n(663),yt=n(664),Dt=n(662),wt=n(660),St=n(367),kt=Object(L.a)((function(e){return Object(_.a)({root:{flexGrow:1,fontFamily:e.typography.fontFamily},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},titleLink:{textDecoration:"none",color:"#fff"},userMenu:{flexGrow:1,textAlign:"right"}})})),It=i.a.createContext(void 0),Tt=i.a.createContext(void 0),Et=function(e){var t=e.children,n=i.a.useState({}),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(a.jsx)(It.Provider,{value:c,children:Object(a.jsx)(Tt.Provider,{value:o,children:t})})},Ct=function(){var e=i.a.useContext(Tt);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e},Nt=[{label:"Dashboard",path:"/"},{label:"Dip Entries",path:"/dips"},{label:"Contact",path:"/contact"}],Lt=function(){var e=kt(),t=Object(p.g)(),n=Object(p.f)(),c=t.pathname,o=Object(r.useState)(null),l=Object(s.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)(null),f=Object(s.a)(b,2),h=f[0],O=f[1],m=function(){var e=i.a.useContext(It);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e}(),v=function(e,t){n.push(t),d(null),O(null)},g=Ct();i.a.useEffect((function(){return function(){return g({})}}),[g]);var x=function(){var e=Object(ie.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt.a.signOut({global:!0});case 3:console.log("logged out"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error signing out: ",e.t0);case 9:O(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("header",{className:e.root,children:Object(a.jsx)(Dt.a,{color:"secondary",position:"static",children:Object(a.jsxs)(wt.a,{children:[Object(a.jsx)(N.a,{"aria-haspopup":"true","aria-label":"Menu",className:e.menuButton,color:"inherit",edge:"start",onClick:function(e){d(e.currentTarget)},children:Object(a.jsx)(xt.a,{})}),Object(a.jsx)(St.a,{id:"main-menu",anchorEl:u,getContentAnchorEl:null,keepMounted:!0,onClose:function(){d(null)},open:Boolean(u),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:Nt.map((function(e){return Object(a.jsx)(Pe.a,{disabled:e.path===c,onClick:function(t){return v(0,e.path)},selected:e.path===c,children:e.label},e.path)}))}),Object(a.jsx)($.a,{className:e.title,color:"inherit",variant:"h6",children:Object(a.jsx)(j.b,{className:e.titleLink,to:"/",children:"Gales Dips"})}),Object(a.jsxs)("div",{className:e.userMenu,children:[m.name,Object(a.jsx)(N.a,{"aria-haspopup":"true",color:"inherit",onClick:function(e){O(e.currentTarget)},children:Object(a.jsx)(yt.a,{})}),Object(a.jsxs)(St.a,{anchorEl:h,id:"user-menu",onClose:function(){O(null)},open:Boolean(h),anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:[Object(a.jsx)(Pe.a,{onClick:function(e){return v(0,"/profile")},children:"Profile"}),Object(a.jsx)(Pe.a,{onClick:x,children:"Logout"})]})]})]})})})};function _t(){var e=E();return Object(a.jsxs)(Ee,{children:[Object(a.jsx)("h2",{children:"Import"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(W.a,{variant:"outlined",onClick:function(){return e.send({message:"my stupid test",timeout:1e3})},children:"Open success alert"}),Object(a.jsx)(W.a,{variant:"outlined",onClick:function(){return e.send({message:"my stupid error message all day long, with a longer sentence displaying who knows what kind of message",severity:"info",title:"Information"})},children:"Open info alert"}),Object(a.jsx)(W.a,{variant:"outlined",onClick:function(){return e.send({message:"error message with false timeout",severity:"error",title:"Big Bad Error",setTimeout:!1})},children:"Open error alert freeze"}),Object(a.jsx)(W.a,{variant:"outlined",onClick:function(){return e.send({message:"Warning message with false timeout",severity:"warning",title:"Warning"})},children:"Open warning alert"})]})]})}var Pt=function(){var e=Object(p.g)();return Object(a.jsxs)(Ee,{children:[Object(a.jsxs)($.a,{gutterBottom:!0,variant:"h6",children:["No match for '",Object(a.jsx)("code",{children:e.pathname}),"'"]}),Object(a.jsx)($.a,{variant:"body1",children:"Please check your records or contact support"})]})},Mt=n(672);function At(e){return Object(a.jsx)(A.a,Object(C.a)({elevation:6,variant:"filled"},e))}function Ft(){var e=i.a.useState(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(e,t){"clickaway"!==t&&r(!1)};return Object(a.jsxs)(Ee,{children:[Object(a.jsx)("h2",{children:"Propane"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(W.a,{variant:"outlined",onClick:function(){r(!0)},children:"Open success snackbar"}),Object(a.jsx)(Mt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:6e3,onClose:c,children:Object(a.jsxs)(At,{onClose:c,severity:"success",children:[Object(a.jsx)(F.a,{children:"Success"}),"This is a success message with a somewhat longer message. ",Object(a.jsx)("br",{}),"Even longer yes..."]})})]})]})}var zt=Object(L.a)((function(e){return Object(_.a)({root:{alignItems:"center",display:"flex",flexDirection:"column",margin:"0 auto 0",paddingTop:e.spacing(1),width:"100%",zIndex:100,"& > * + *":{marginTop:e.spacing(1)}},actionItem:{width:600},errorTxt:{fontSize:"150%",fontWeight:600}})}));function Rt(){var e=zt();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(A.a,{className:e.actionItem,severity:"error",variant:"filled",children:[Object(a.jsx)(F.a,{className:e.errorTxt,children:"Something went wrong:"}),Object(a.jsx)("pre",{className:e.errorTxt,children:"Some kinda longer message here i..."})]})})}var Ut={Auth:{region:"ca-central-1",userPoolId:"ca-central-1_lolwfYIAr",userPoolWebClientId:"5n63nd473pv7ne2qskv30gkcbh"}},Bt=n(356),$t=n(357),qt=Object($t.a)(function(){var e=Object(ie.a)(re.a.mark((function e(t,n){var a,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.headers,e.prev=1,e.next=4,fe();case 4:r=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",(t=e.t0,console.error(t),{response:null,error:new Error("Error: ".concat(t))}));case 10:return e.abrupt("return",{headers:Object(C.a)(Object(C.a)({},a),{},{Authorization:r?"Bearer ".concat(r):""})});case 11:case"end":return e.stop()}var t}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Qt=Object(Bt.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,a=e.path,r="[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a);return console.error(r),r})),n&&console.error("[Network error]: ".concat(n))})),Wt=Object(u.createHttpLink)({uri:de.BASE_URL}),Ht=Object(u.from)([qt,Qt,Wt]),Gt=new u.ApolloClient({link:Ht,cache:new u.InMemoryCache}),Kt=n(363),Yt=n(674),Jt=n(155),Vt=n.n(Jt),Xt=n(205),Zt=n.n(Xt),en=Object(Kt.a)({palette:{primary:{light:Vt.a[300],main:Vt.a[600],dark:Vt.a[700]},secondary:{light:Zt.a[300],main:Zt.a[800],dark:Zt.a[900]},error:Vt.a,contrastThreshold:3,tonalOffset:.2,typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:34,useNextVariants:!0,htmlFontSize:10}}}),tn=en=Object(Yt.a)(en);O.default.configure(Ut);var nn=function(){var e=i.a.useState(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=i.a.useState(),o=Object(s.a)(c,2),O=o[0],g=o[1],x=Ct();return i.a.useEffect((function(){return Object(d.b)((function(e,t){r(e),g(t)}))}),[]),i.a.useEffect((function(){if("signedin"===n&&(null===O||void 0===O?void 0:O.username)){var e={username:O.username,name:O.attributes.name,email:O.attributes.email,isLoggedIn:!0};!function(e){window.localStorage.setItem(le,e.signInUserSession.accessToken.jwtToken)}(O),x(e)}}),[n,x,O]),n===d.a.SignedIn&&O?Object(a.jsxs)(u.ApolloProvider,{client:Gt,children:[Object(a.jsx)(f.a,{children:Object(a.jsx)("title",{children:ne()})}),Object(a.jsx)(h.a,{theme:tn,children:Object(a.jsx)(T,{children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(R,{}),Object(a.jsx)(Lt,{}),Object(a.jsx)(b.ErrorBoundary,{FallbackComponent:Z,children:Object(a.jsx)(m.a,{utils:v.a,children:Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{component:ge,exact:!0,path:"/"}),Object(a.jsx)(p.a,{component:vt,exact:!0,path:"/dips"}),Object(a.jsx)(p.a,{component:vt,path:"/dips/:date/:stationID"}),Object(a.jsx)(p.a,{component:Ft,exact:!0,path:"/propane"}),Object(a.jsx)(p.a,{component:Rt,exact:!0,path:"/reports"}),Object(a.jsx)(p.a,{component:_t,exact:!0,path:"/import-data"}),Object(a.jsx)(p.a,{component:Pt,path:"*"})]})})})]})})})]}):Object(a.jsx)(l.a,{style:{borderRadius:"green"},children:Object(a.jsx)(l.b,{slot:"sign-in",hideSignUp:!0})})},an=function(e){e&&e instanceof Function&&n.e(35).then(n.bind(null,690)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsxs)(Et,{children:[Object(a.jsx)(nn,{}),","]}),document.getElementById("root")),an()}},[[550,2,3]]]);
//# sourceMappingURL=main.5910d905.chunk.js.map